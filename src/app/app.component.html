<section class="mat-typography">
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav [mode]="sideNavMode" [opened]="isSideNavOpened">
      <mat-toolbar color="primary" class="toolbar" class.xs="toolbar-xs">
        <a routerLink="/home"><span>Research Hub</span></a>
      </mat-toolbar>
      <mat-nav-list>
        <mat-list-item *ngFor="let item of menuItems" [routerLink]="item.href">
          <mat-icon mat-list-icon class="mdi mdi-{{item.icon}}"></mat-icon>
          <a mat-line >{{item.name}}</a>
        </mat-list-item>
      </mat-nav-list>
    </mat-sidenav>

    <div class="sidenav-content-wrapper">
      <div class="sidenav-content" class.xs="sidenav-content-xs">
        <div class="primary-header" ngClass.xs="primary-header-xs">

          <div fxLayout="row" fxLayoutAlign="center center">
            <button mat-icon-button class="mdi mdi-menu mdi-24px menu-button" class.xs="mdi mdi-menu mdi-24px menu-button-xs" (click)="sidenav.toggle()" fxHide.gt-sm></button>

            <mat-toolbar class="primary-toolbar"  color="primary">
              <app-search-bar class="search-bar-theme" [categories]="categories" [category]="category" [searchText]="searchText"></app-search-bar>
              <a *ngIf="showLoginBtn" color="accent" mat-raised-button (click)="authService.login()">Login</a>

              <button *ngIf="!showLoginBtn" mat-fab class="avatar-btn">
                <img mat-card-avatar [src]="authService.user.getAvatarUrl()" />
              </button>
            </mat-toolbar>
          </div>

          <div fxLayout="row" fxLayoutAlign="center center">
            <h1><breadcrumb [useBootstrap]="false"></breadcrumb></h1>
            <span class="example-spacer"></span>
            <button mat-icon-button (click)="openSearchFilter()" fxHide.gt-sm *ngIf="showFilterButton">
              <mat-icon class="mat-24" style="color: white;">filter_list</mat-icon>
            </button>
          </div>
        </div>
        <router-outlet></router-outlet>
      </div>
      <footer class.xs="footer-xs" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center">
          <div fxFlex="60%" fxFlex.xs="45" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="2em" fxLayoutAlign.xs="end">
            <a [href]="eResearchUrl" target="_blank" (click)="analyticsService.trackOutboundLink(eResearchUrl)" class.xs="footer-a-xs">
              Copyright Â© {{getYear()}}. Centre for eResearch
            </a>
            <a fxHide.lt-lg routerLink="/contact">Contact</a>
            <a fxHide.lt-lg routerLink="/feedback">Provide Feedback</a>
            <a fxHide.lt-lg [href]="disclaimerUrl" target="_blank" (click)="analyticsService.trackOutboundLink(disclaimerUrl)">Disclaimer</a>
          </div>

          <div fxFlex="40%" fxFlex.xs="55" fxLayoutAlign="end" fxLayoutAlign.xs="start">
            <a class="logo" [href]="aucklandUniUrl" target="_blank" (click)="analyticsService.trackOutboundLink(aucklandUniUrl)">
              <img [src]="apiService.getAssetUrl('page-elements/uoa-logo.svg')">
            </a>
          </div>
      </footer>
    </div>
  </mat-sidenav-container>
</section>
<a fxHide.lt-md class="github-fork-ribbon left-bottom fixed" routerLink="/feedback" title="Beta">Beta</a>
